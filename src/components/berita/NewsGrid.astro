---
// src/components/berita/NewsGrid.astro
import type { CollectionEntry } from "astro:content";
// Import Card yang baru kita buat
import NewsCard from "./NewsCard.astro";

interface Props {
  items: CollectionEntry<"berita">[];
  title?: string;
  subtitle?: string;
  showLink?: boolean;
}

const { items, title, subtitle, showLink = false } = Astro.props;
---

<section class="py-10 relative">
  <div class="container mx-auto px-6">
    {
      title && (
        <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-4">
          <div class="max-w-2xl">
            <h2 class="text-emerald-400 font-bold tracking-widest text-xs uppercase mb-2">
              Update Terbaru
            </h2>
            <h3 class="text-3xl md:text-4xl font-bold text-white mb-4">
              {title}
            </h3>
            {subtitle && (
              <p class="text-slate-400 leading-relaxed">{subtitle}</p>
            )}
          </div>

          {showLink && (
            <a
              href="/berita"
              class="hidden md:flex items-center gap-2 text-emerald-400 font-semibold hover:text-emerald-300 transition-colors group"
            >
              Lihat Semua Berita
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5 transition-transform group-hover:translate-x-1"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 8l4 4m0 0l-4 4m4-4H3"
                />
              </svg>
            </a>
          )}
        </div>
      )
    }

    <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
      {
        items.map((newsItem) => (
          // Panggil Komponen Card disini
          <NewsCard post={newsItem} />
        ))
      }
    </div>

    {
      showLink && (
        <div class="mt-8 text-center md:hidden">
          <a
            href="/berita"
            class="inline-flex items-center gap-2 text-emerald-400 font-bold border border-emerald-500/30 px-6 py-3 rounded-full hover:bg-emerald-500/10 transition-colors"
          >
            Lihat Semua Berita
          </a>
        </div>
      )
    }
  </div>
</section>
